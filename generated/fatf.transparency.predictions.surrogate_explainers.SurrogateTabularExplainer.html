

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  
    <title>fatf.transparency.predictions.surrogate_explainers.SurrogateTabularExplainer &#8212; FAT Forensics 0.1.2 documentation</title>
  <!-- html title is before nature.css - we use this hack to load bootstrap first -->
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="../_static/css/bootstrap.min.css">

    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_SVG"></script>
    <link rel="canonical" href="https://fat-forensics.org/generated/fatf.transparency.predictions.surrogate_explainers.SurrogateTabularExplainer.html" />
    <link rel="shortcut icon" href="../_static/fatf.ico"/>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="fatf.transparency.predictions.surrogate_explainers.TabularBlimeyLime" href="fatf.transparency.predictions.surrogate_explainers.TabularBlimeyLime.html" />
    <link rel="prev" title="fatf.transparency.predictions.counterfactuals.textualise_counterfactuals" href="fatf.transparency.predictions.counterfactuals.textualise_counterfactuals.html" />
  <!-- jQuery first, then Bootstrap JS -->
  <!-- jQuery is distributed with Sphinx already -->
  <!-- <script src="../_static/jquery.min.js"></script> -->
  <script src="../_static/js/bootstrap.min.js"></script>

  </head><body>
<div class="container">
  <nav class="navbar navbar-expand-md navbar-light bg-light">
    <a class="navbar-brand align-text-middle" href="../index.html">
      <img src="../_static/fatf.png"
       alt="Logo"
       width="35" height="35"
       class="d-inline-block align-middle">
      FAT Forensics
    </a>

    <button class="navbar-toggler"
            type="button"
            data-toggle="collapse"
            data-target="#navbarCollapsedContent">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse"
         id="navbarCollapsedContent">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item">
          <a class="nav-link" href="../index.html">Home</a>
        </li>

        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown">
            Documentation
          </a>
          <div class="dropdown-menu">
            <div class="dropdown-header">FAT Forensics</div>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="../getting_started/index.html">Getting Started</a>
            <a class="dropdown-item" href="../tutorials/index.html">Tutorials</a>
            <a class="dropdown-item" href="../sphinx_gallery_auto/index.html">Examples</a>
            <a class="dropdown-item" href="../api.html">API Reference</a>
            <a class="dropdown-item" href="../how_to/index.html">How-To Guides</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="../news.html">News</a>
            <a class="dropdown-item" href="../development.html">Developers Guide</a>
            <a class="dropdown-item" href="../contributors.html">Contributors</a>
            <a class="dropdown-item" href="../changelog.html">Changelog</a>
            <a class="dropdown-item" href="../roadmap.html">Roadmap</a>
          </div>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="../user_guide/index.html">
            FAT User Guide
          </a>
        </li>
      </ul>

      <div class="search_form form-inline">
          <div class="gcse-search" id="cse" style="width: 100%;"></div>
      </div>
    </div>
  </nav>
</div>

<!-- GitHub "fork me" ribbon -->
<!--
<a href="https://github.com/fat-forensics/fat-forensics">
  <img class="fork-me"
       style="position: absolute; top: 0; right: 0; border: 0;"
       src="../_static/img/forkme.png"
       alt="Fork me on GitHub" />
</a>
-->
<span id="forkongithub">
  <a href="https://github.com/fat-forensics/fat-forensics">
    Fork me on GitHub
  </a>
</span>
<div class="container">
  <div class="row">
    <div class="col-sm-2">
      <div class="container sidebar">
        <!--
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/fatf.png" alt="Logo"/>
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="fatf.transparency.predictions.counterfactuals.textualise_counterfactuals.html"
                        title="previous chapter"><code class="xref py py-mod docutils literal notranslate"><span class="pre">fatf.transparency.predictions.counterfactuals</span></code>.textualise_counterfactuals</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="fatf.transparency.predictions.surrogate_explainers.TabularBlimeyLime.html"
                        title="next chapter"><code class="xref py py-mod docutils literal notranslate"><span class="pre">fatf.transparency.predictions.surrogate_explainers</span></code>.TabularBlimeyLime</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/generated/fatf.transparency.predictions.surrogate_explainers.SurrogateTabularExplainer.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>-->
        <!-- Add a link to the 'up' page -->
        <div class="row rel">
          <div class="col rellink pad-b-1">
            <a class="btn btn-primary btn-sm"
               href="../api.html"
               role="button">
              Up
              <br/>
              <span class="smallrellink">
                API Reference (0.1.2)
              </span>
              <span class="hiddenrellink left-button">
                API Reference (0.1.2)
              </span>
              
            </a>
          </div>
        </div>

        <!-- Add a links to the 'relative' pages -->

        <div class="row rel">
          <div class="col-6 rellink
                      pad-r-1
                      ">
            <a class="btn btn-primary btn-sm"
               href="fatf.transparency.predictions.counterfactuals.textualise_counterfactuals.html"
               accesskey="P"
               role="button">
              Previous
              <br/>
              <span class="smallrellink">
                fatf.transpar...
              </span>
                  <span class="hiddenrellink
                               left-button
                               "
                        data-container="body">
                  fatf.transparency.predictions.counterfactuals.textualise_counterfactuals
                  </span>
            </a>
          </div>
          <div class="col-6 rellink
                      pad-l-1
                      ">
            <a class="btn btn-primary btn-sm"
               href="fatf.transparency.predictions.surrogate_explainers.TabularBlimeyLime.html"
               accesskey="N"
               role="button">
              Next
              <br/>
              <span class="smallrellink">
                fatf.transpar...
              </span>
                  <span class="hiddenrellink
                               right-button
                               "
                        data-container="body">
                  fatf.transparency.predictions.surrogate_explainers.TabularBlimeyLime
                  </span>
            </a>
          </div>
        </div>

        

        <!-- Add a citation banner -->
        <div class="alert alert-info" role="alert" style="font-size: 89%; margin-top: 16px;">
          Please <a href="../getting_started/cite.html"><b>cite us</b></a> if you use the software.
        </div>

        <!-- Add a page map -->

        <div class="row toc">
          <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">fatf.transparency.predictions.surrogate_explainers</span></code>.SurrogateTabularExplainer</a></li>
</ul>

        </div>

      </div>
    </div>
    

    <div class="col col-sm-10">
      <div class="container">
        <div class="row">
        
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="fatf-transparency-predictions-surrogate-explainers-surrogatetabularexplainer">
<h1><a class="reference internal" href="../api.html#module-fatf.transparency.predictions.surrogate_explainers" title="fatf.transparency.predictions.surrogate_explainers"><code class="xref py py-mod docutils literal notranslate"><span class="pre">fatf.transparency.predictions.surrogate_explainers</span></code></a>.SurrogateTabularExplainer<a class="headerlink" href="#fatf-transparency-predictions-surrogate-explainers-surrogatetabularexplainer" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="fatf.transparency.predictions.surrogate_explainers.SurrogateTabularExplainer">
<em class="property">class </em><code class="descclassname">fatf.transparency.predictions.surrogate_explainers.</code><code class="descname">SurrogateTabularExplainer</code><span class="sig-paren">(</span><em>dataset: numpy.ndarray</em>, <em>predictive_model: object</em>, <em>as_probabilistic: bool = True</em>, <em>as_regressor: bool = False</em>, <em>categorical_indices: Optional[List[Union[str</em>, <em>int]]] = None</em>, <em>class_names: Optional[List[str]] = None</em>, <em>classes_number: Optional[int] = None</em>, <em>feature_names: Optional[List[str]] = None</em>, <em>unique_predictions: Optional[List[Union[str</em>, <em>int]]] = None</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/fat-forensics/fat-forensics/blob/5defeca/fatf/transparency/predictions/surrogate_explainers.py#L250"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fatf.transparency.predictions.surrogate_explainers.SurrogateTabularExplainer" title="Permalink to this definition">¶</a></dt>
<dd><p>An abstract parent class for implementing surrogate explainers.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.1.0: </span>Added support for regression models.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.0.2.</span></p>
</div>
<p>An abstract class that all surrogate explainer classes should inherit from.
It contains an <code class="docutils literal notranslate"><span class="pre">__init__</span></code> method and an input validator –
<code class="docutils literal notranslate"><span class="pre">_explain_instance_input_is_valid</span></code> – for the abstract
<code class="docutils literal notranslate"><span class="pre">explain_instance</span></code> method. The validation of the input parameters passed
to the <code class="docutils literal notranslate"><span class="pre">__init__</span></code> method is done via the
<code class="docutils literal notranslate"><span class="pre">fatf.transparency.predictions.surrogate_explainers._input_is_valid</span></code>
function.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">predictive_model</span></code> is a non-probabilistic classifier
(<code class="docutils literal notranslate"><span class="pre">as_probabilistic=False</span></code> and <code class="docutils literal notranslate"><span class="pre">as_regressor=False</span></code>), it is advised to
specify both <code class="docutils literal notranslate"><span class="pre">classes_number</span></code> and <code class="docutils literal notranslate"><span class="pre">unique_predictions</span></code> parameters to
ensure proper functionality of the explainer. Please see the respective
parameter descriptions for more details.</p>
<p>For detailed instruction how to build your own surrogate please see the
<a class="reference internal" href="../how_to/transparency/tabular-surrogates.html#how-to-tabular-surrogates"><span class="std std-ref">How to build LIME yourself (bLIMEy) – Surrogate Tabular Explainers</span></a> <em>how-to guide</em>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The <code class="docutils literal notranslate"><span class="pre">_explain_instance_input_is_valid</span></code> method should be called in all
implementations of the <code class="docutils literal notranslate"><span class="pre">explain_instance</span></code> method in the children
classes to ensure that all of the input parameters passed to this method
are valid.</p>
</div>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>dataset</strong><span class="classifier">numpy.ndarray</span></dt><dd><p>A 2-dimensional numpy array with a dataset (utilised in various ways
throughout the explainer).</p>
</dd>
<dt><strong>predictive_model</strong><span class="classifier">object</span></dt><dd><p>A pre-trained (black-box) predictive model to be explained. If
<code class="docutils literal notranslate"><span class="pre">as_probabilistic</span></code> (see below) is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, it must have a
<code class="docutils literal notranslate"><span class="pre">predict_proba</span></code> method that takes a data set as the only required
input parameter and returns a 2-dimensional numpy array with
probabilities of belonging to each class. Otherwise, if
<code class="docutils literal notranslate"><span class="pre">as_probabilistic</span></code> is set to <code class="docutils literal notranslate"><span class="pre">False</span></code>, the <code class="docutils literal notranslate"><span class="pre">predictive_model</span></code> must
have a <code class="docutils literal notranslate"><span class="pre">predict</span></code> method that outputs a 1-dimensional array with
(class) predictions.</p>
</dd>
<dt><strong>as_probabilistic</strong><span class="classifier">boolean, optional (default=True)</span></dt><dd><p>A boolean indicating whether the global model is probabilistic. If
<code class="docutils literal notranslate"><span class="pre">True</span></code>, the <code class="docutils literal notranslate"><span class="pre">predictive_model</span></code> must have a <code class="docutils literal notranslate"><span class="pre">predict_proba</span></code>
method. If <code class="docutils literal notranslate"><span class="pre">False</span></code>, the <code class="docutils literal notranslate"><span class="pre">predictive_model</span></code> must have a <code class="docutils literal notranslate"><span class="pre">predict</span></code>
method. This parameter is disregarded when <code class="docutils literal notranslate"><span class="pre">as_regressor=True</span></code>.</p>
</dd>
<dt><strong>as_regressor</strong><span class="classifier">boolean, optional (default=False)</span></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 0.1.0.</span></p>
</div>
<p>A boolean indicating whether the global model is regression. If
<code class="docutils literal notranslate"><span class="pre">True</span></code>, the <code class="docutils literal notranslate"><span class="pre">predictive_model</span></code> must have a <code class="docutils literal notranslate"><span class="pre">predict</span></code>
method; the <code class="docutils literal notranslate"><span class="pre">as_probabilistic</span></code> parameter is disregarded. If
<code class="docutils literal notranslate"><span class="pre">False</span></code>, the model is treated as a classifier – see
<code class="docutils literal notranslate"><span class="pre">as_probabilistic</span></code> parameter.</p>
</dd>
<dt><strong>categorical_indices</strong><span class="classifier">List[column indices], optional (default=None)</span></dt><dd><p>A list of column indices in the input <code class="docutils literal notranslate"><span class="pre">dataset</span></code> that should be
treated as categorical features.</p>
</dd>
<dt><strong>class_names</strong><span class="classifier">List[string], optional (default=None)</span></dt><dd><p>A list of strings defining the names of classes. If the predictive
model is probabilistic, the order of the class names should correspond
to the order of columns output by the model. For other models the
order should correspond to lexicographical ordering of all the possible
outputs of this model. For example, if the model outputs
<code class="docutils literal notranslate"><span class="pre">['a',</span> <span class="pre">'c',</span> <span class="pre">'0']</span></code> the class names should be given for
<code class="docutils literal notranslate"><span class="pre">['0',</span> <span class="pre">'a',</span> <span class="pre">'c']</span></code> ordering. This parameter is disregarded when
<code class="docutils literal notranslate"><span class="pre">as_regressor=True</span></code>.</p>
</dd>
<dt><strong>classes_number</strong><span class="classifier">integer, optional (default=None)</span></dt><dd><p>The unique number of classes modelled by the <code class="docutils literal notranslate"><span class="pre">predictive_model</span></code>.
If the model is probabilistic, setting this parameter is not required
as the number of classes will be inferred from the shape of the
predicted probabilities array. For non-probabilistic models if this
parameter is not given, this number will be inferred from the length of
the <code class="docutils literal notranslate"><span class="pre">class_names</span></code> list if provided, otherwise the input <code class="docutils literal notranslate"><span class="pre">dataset</span></code>
will be predicted and the unique values will be counter therein.
Since the latter method cannot guarantee counting all the possible
predictions, a <code class="docutils literal notranslate"><span class="pre">UserWarning</span></code> will be emitted encouraging the user to
specify the number of classes via the <code class="docutils literal notranslate"><span class="pre">classes_number</span></code> parameter.
For non-probabilistic models it is advised to specify this parameter.
This parameter is disregarded when <code class="docutils literal notranslate"><span class="pre">as_regressor=True</span></code>.</p>
</dd>
<dt><strong>feature_names</strong><span class="classifier">List[string], optional (default=None)</span></dt><dd><p>A list of strings defining the names of the <code class="docutils literal notranslate"><span class="pre">dataset</span></code> features. The
order of the names should correspond to the order of features in the
<code class="docutils literal notranslate"><span class="pre">dataset</span></code>.</p>
</dd>
<dt><strong>unique_predictions</strong><span class="classifier">List[strings or integers], optional (default=None)</span></dt><dd><p>A complete list of unique predictions that the <code class="docutils literal notranslate"><span class="pre">predictive_model</span></code> can
output. This parameter is only used when the <code class="docutils literal notranslate"><span class="pre">predictive_model</span></code> is a
non-probabilistic classifier (<code class="docutils literal notranslate"><span class="pre">as_probabilistic=False</span></code>).
This parameter is disregarded when <code class="docutils literal notranslate"><span class="pre">as_regressor=True</span></code>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Attributes</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>dataset</strong><span class="classifier">numpy.ndarray</span></dt><dd><p>A 2-dimensional numpy array with the input <code class="docutils literal notranslate"><span class="pre">dataset</span></code>.</p>
</dd>
<dt><strong>is_structured</strong><span class="classifier">boolean</span></dt><dd><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the <code class="docutils literal notranslate"><span class="pre">dataset</span></code> is a structured numpy array, <code class="docutils literal notranslate"><span class="pre">False</span></code>
otherwise.</p>
</dd>
<dt><strong>column_indices</strong><span class="classifier">List[column indices]</span></dt><dd><p>A list of column indices in the order they appear in the <code class="docutils literal notranslate"><span class="pre">dataset</span></code>.</p>
</dd>
<dt><strong>categorical_indices</strong><span class="classifier">List[column indices]</span></dt><dd><p>A list of column indices that should be treat as categorical features.</p>
</dd>
<dt><strong>numerical_indices</strong><span class="classifier">List[column indices]</span></dt><dd><p>A list of column indices that should be treat as numerical features.</p>
</dd>
<dt><strong>as_probabilistic</strong><span class="classifier">boolean</span></dt><dd><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the <code class="docutils literal notranslate"><span class="pre">predictive_model</span></code> should be treated as
probabilistic and <code class="docutils literal notranslate"><span class="pre">False</span></code> if it should be treated as a classifier.</p>
</dd>
<dt><strong>as_regressor</strong><span class="classifier">boolean</span></dt><dd><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the <code class="docutils literal notranslate"><span class="pre">predictive_model</span></code> should be treated as
regression and <code class="docutils literal notranslate"><span class="pre">False</span></code> if it should be treated as a (probabilistic)
classifier.</p>
</dd>
<dt><strong>predictive_model</strong><span class="classifier">object</span></dt><dd><p>A pre-trained (black-box) predictive model to be explained.</p>
</dd>
<dt><strong>predictive_function</strong><span class="classifier">Callable[[np.ndarray], np.ndarray]</span></dt><dd><p>A function that will be used to get predictions from the input
predictive model. It references the <code class="docutils literal notranslate"><span class="pre">predictive_model.predict_proba</span></code>
method for for probabilistic models (<code class="docutils literal notranslate"><span class="pre">as_probabilistic=True</span></code>) and the
<code class="docutils literal notranslate"><span class="pre">predictive_model.predict</span></code> method for non-probabilistic models.</p>
</dd>
<dt><strong>classes_number</strong><span class="classifier">integer</span></dt><dd><p>A number of unique classes that the <code class="docutils literal notranslate"><span class="pre">predictive_model</span></code> is trained to
recognise.</p>
</dd>
<dt><strong>class_names</strong><span class="classifier">List[string]</span></dt><dd><p>A list of strings defining the names of classes. If this was not
specified by the user, the classes will be assigned names based on the
following pattern: ‘class %d’. If the <code class="docutils literal notranslate"><span class="pre">predictive_model</span></code> is a
classifier (<code class="docutils literal notranslate"><span class="pre">as_probabilistic=False</span></code>) and the number of unique
predictions is equal to the number of classes, the <code class="docutils literal notranslate"><span class="pre">class_names</span></code> will
be lexicographically sorted list of the unique values output by the
<code class="docutils literal notranslate"><span class="pre">predictive_model</span></code>.</p>
</dd>
<dt><strong>feature_names</strong><span class="classifier">List[string]</span></dt><dd><p>A list of strings defining the names of the features. If this was not
specified by the user, the features will be assigned names based on the
following pattern: ‘feature %d’.</p>
</dd>
<dt><strong>unique_predictions</strong><span class="classifier">List[strings or integers] or None</span></dt><dd><p><code class="docutils literal notranslate"><span class="pre">None</span></code> for probabilistic <code class="docutils literal notranslate"><span class="pre">predictive_model</span></code>
(<code class="docutils literal notranslate"><span class="pre">as_probabilistic=True</span></code>) and a list of unique classes output by
the <code class="docutils literal notranslate"><span class="pre">predictive_model</span></code> if it is non-probabilistic.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>IncompatibleModelError</strong></dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">predictive_model</span></code> does not have the required functionality:
<code class="docutils literal notranslate"><span class="pre">predict_proba</span></code> method for probabilistic models and <code class="docutils literal notranslate"><span class="pre">predict</span></code>
method for regressors and non-probabilistic classifiers.</p>
</dd>
<dt><strong>IncorrectShapeError</strong></dt><dd><p>The input <code class="docutils literal notranslate"><span class="pre">dataset</span></code> is not a 2-dimensional numpy array.</p>
</dd>
<dt><strong>IndexError</strong></dt><dd><p>Some of the column indices given in the <code class="docutils literal notranslate"><span class="pre">categorical_indices</span></code>
parameter are not valid for the input <code class="docutils literal notranslate"><span class="pre">dataset</span></code>.</p>
</dd>
<dt><strong>RuntimeError</strong></dt><dd><p>The number of columns in the probabilistic matrix output by the
<code class="docutils literal notranslate"><span class="pre">predictive_model</span></code> (when <code class="docutils literal notranslate"><span class="pre">as_probabilistic=True</span></code>) is different
to the number of features specified by the user via the
<code class="docutils literal notranslate"><span class="pre">features_number</span></code> parameter. The <code class="docutils literal notranslate"><span class="pre">predictive_model</span></code> has output
different unique classes to the ones specified by the user via the
<code class="docutils literal notranslate"><span class="pre">unique_predictions</span></code> parameter (checked only for non-probabilistic
models, i.e., <code class="docutils literal notranslate"><span class="pre">as_probabilistic=False</span></code>). Either the user-specified
or inferred number of unique predictions does not agree with the
internal number of classes.</p>
</dd>
<dt><strong>TypeError</strong></dt><dd><p>The input <code class="docutils literal notranslate"><span class="pre">dataset</span></code> is not of a base (numerical and/or string)
type. The <code class="docutils literal notranslate"><span class="pre">as_probabilistic</span></code> parameter is not a boolean.
The <code class="docutils literal notranslate"><span class="pre">as_regressor</span></code> parameter is not a boolean.
The <code class="docutils literal notranslate"><span class="pre">categorical_indices</span></code> parameter is neither a list nor <code class="docutils literal notranslate"><span class="pre">None</span></code>.
The <code class="docutils literal notranslate"><span class="pre">class_names</span></code> parameter is neither a list nor <code class="docutils literal notranslate"><span class="pre">None</span></code> or one of
the elements in this list is not a string.
The <code class="docutils literal notranslate"><span class="pre">classes_number</span></code> parameter is neither an integer nor <code class="docutils literal notranslate"><span class="pre">None</span></code>.
The <code class="docutils literal notranslate"><span class="pre">feature_names</span></code> parameter is neither a list nor <code class="docutils literal notranslate"><span class="pre">None</span></code> or one
of the elements in this list is not a string.
The <code class="docutils literal notranslate"><span class="pre">unique_predictions</span></code> parameter is neither a list nor <code class="docutils literal notranslate"><span class="pre">None</span></code> or
all the elements in this list are not of string or integer type.</p>
</dd>
<dt><strong>ValueError</strong></dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">categorical_indices</span></code> list contains duplicated entries.
The length of the <code class="docutils literal notranslate"><span class="pre">class_names</span></code> list is not equal to the detected or
given number of classes, some of the entires in this list are
duplicated or this list is empty. The length of the <code class="docutils literal notranslate"><span class="pre">feature_names</span></code>
list is not the same as the number of features in the input <code class="docutils literal notranslate"><span class="pre">dataset</span></code>
or some of the entries in that list are duplicated. The
<code class="docutils literal notranslate"><span class="pre">classes_number</span></code> parameter is smaller than 2. The
<code class="docutils literal notranslate"><span class="pre">unique_predictions</span></code> list is empty or contains duplicated entries.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Warns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>UserWarning</strong></dt><dd><p>If some of the string-based columns in the input data array were not
indicated to be categorical features by the user (via the
<code class="docutils literal notranslate"><span class="pre">categorical_indices</span></code> parameter), the user is warned that they will
be added to the list of categorical features. When the
<code class="docutils literal notranslate"><span class="pre">classes_number</span></code> parameter is not specified for a non-probabilistic
model and the number of classes cannot be inferred form the
length of the <code class="docutils literal notranslate"><span class="pre">classes_names</span></code> list, the number of classes is computed
as the unique number of predictions of the <code class="docutils literal notranslate"><span class="pre">predictive_model</span></code> for the
input <code class="docutils literal notranslate"><span class="pre">datasets</span></code>, which may not be accurate. The user is warned and
advised to specify the <code class="docutils literal notranslate"><span class="pre">classes_number</span></code> parameter in this case.
The user has provided unique predictions via the <code class="docutils literal notranslate"><span class="pre">unique_predictions</span></code>
parameter for a probabilistic model (<code class="docutils literal notranslate"><span class="pre">as_probabilistic=True</span></code>),
which are not needed and will be disregarded. The unique predictions
had to be inferred from the predictions output by the
(non-probabilistic) <code class="docutils literal notranslate"><span class="pre">predictive_model</span></code>, therefore may be incomplete.
It is advised to provide this list via the <code class="docutils literal notranslate"><span class="pre">unique_predictions</span></code>
parameter to ensure proper functionality of the explainer.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="longtable docutils align-center">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#fatf.transparency.predictions.surrogate_explainers.SurrogateTabularExplainer.explain_instance" title="fatf.transparency.predictions.surrogate_explainers.SurrogateTabularExplainer.explain_instance"><code class="xref py py-obj docutils literal notranslate"><span class="pre">explain_instance</span></code></a>(data_row, numpy.void])</p></td>
<td><p>Explains a <code class="docutils literal notranslate"><span class="pre">data_row</span></code>.</p></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="fatf.transparency.predictions.surrogate_explainers.SurrogateTabularExplainer.explain_instance">
<code class="descname">explain_instance</code><span class="sig-paren">(</span><em>data_row: Union[numpy.ndarray, numpy.void]</em><span class="sig-paren">)</span> &#x2192; Any<a class="reference external" href="https://github.com/fat-forensics/fat-forensics/blob/5defeca/fatf/transparency/predictions/surrogate_explainers.py#L754"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fatf.transparency.predictions.surrogate_explainers.SurrogateTabularExplainer.explain_instance" title="Permalink to this definition">¶</a></dt>
<dd><p>Explains a <code class="docutils literal notranslate"><span class="pre">data_row</span></code>.</p>
<p>This is an abstract method that must be implemented for each child
object of this abstract class.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The <code class="docutils literal notranslate"><span class="pre">_explain_instance_input_is_valid</span></code> method should be called in
all implementations of the <code class="docutils literal notranslate"><span class="pre">explain_instance</span></code> method in the
children classes to ensure that all of the input parameters passed
to this method are valid.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data_row</strong><span class="classifier">Union[numpy.ndarray, numpy.void]</span></dt><dd><p>A data point to be explained.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>explanation</strong><span class="classifier">Any</span></dt><dd><p>An explanation of the <code class="docutils literal notranslate"><span class="pre">data_row</span></code>.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>IncorrectShapeError</strong></dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">data_row</span></code> is not a 1-dimensional numpy array-like object.
The number of features (columns) in the <code class="docutils literal notranslate"><span class="pre">data_row</span></code> is different
to the number of features in the data array used to initialise this
object.</p>
</dd>
<dt><strong>NotImplementedError</strong></dt><dd><p>This is an abstract method, hence has not been implemented.</p>
</dd>
<dt><strong>TypeError</strong></dt><dd><p>The dtype of the <code class="docutils literal notranslate"><span class="pre">data_row</span></code> is different than the dtype of the
data array used to initialise this object.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<div class="clear:both"></div></section>


          </div>
        </div>
      </div>
        </div>
      </div>
    </div>
  </div>
</div>

  <div class="container cusotm-footer">
    <div class="row">
      <div class="col-3">
        &copy; 2018--2022, Kacper Sokol et al.
      </div>
      <div class="col-6">
        <a class="footer-img-link" href="contributors.html#funding">
          <img src="../_static/img/bristol.svg" title="Univeristy of Bristol" style="max-height: 30px">
          &nbsp;
          <img src="../_static/img/thales.svg" title="Thales" style="max-height: 20px">
        </a>
        <br>
        <a href="contributors.html#funding" style="top: 4px; position: relative;">
          More information on our contributors
        </a>
      </div>
      <div class="col-3">
        <a href="../_sources/generated/fatf.transparency.predictions.surrogate_explainers.SurrogateTabularExplainer.rst.txt" rel="nofollow">
          Show this page source
        </a>
      </div>
    </div>
  </div>

  
  <script>
    window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
    ga('create', 'UA-142154492-1', 'auto');
    ga('set', 'anonymizeIp', true);
    ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  
  <script>
    (function() {
      var cx = '014039732624725851926:mpducezglrq';
      var gcse = document.createElement('script');
      gcse.type = 'text/javascript';
      gcse.async = true;
      gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(gcse, s);
    })();
  </script>
  
  </body>
</html>