

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  
    <title>fatf.vis.feature_influence.plot_individual_conditional_expectation &#8212; FAT Forensics 0.1.2 documentation</title>
  <!-- html title is before nature.css - we use this hack to load bootstrap first -->
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="../_static/css/bootstrap.min.css">

    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_SVG"></script>
    <link rel="canonical" href="https://fat-forensics.org/generated/fatf.vis.feature_influence.plot_individual_conditional_expectation.html" />
    <link rel="shortcut icon" href="../_static/fatf.ico"/>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="fatf.vis.feature_influence.plot_partial_dependence" href="fatf.vis.feature_influence.plot_partial_dependence.html" />
    <link rel="prev" title="fatf.transparency.sklearn.linear_model.linear_classifier_coefficients" href="fatf.transparency.sklearn.linear_model.linear_classifier_coefficients.html" />
  <!-- jQuery first, then Bootstrap JS -->
  <!-- jQuery is distributed with Sphinx already -->
  <!-- <script src="../_static/jquery.min.js"></script> -->
  <script src="../_static/js/bootstrap.min.js"></script>

  </head><body>
<div class="container">
  <nav class="navbar navbar-expand-md navbar-light bg-light">
    <a class="navbar-brand align-text-middle" href="../index.html">
      <img src="../_static/fatf.png"
       alt="Logo"
       width="35" height="35"
       class="d-inline-block align-middle">
      FAT Forensics
    </a>

    <button class="navbar-toggler"
            type="button"
            data-toggle="collapse"
            data-target="#navbarCollapsedContent">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse"
         id="navbarCollapsedContent">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item">
          <a class="nav-link" href="../index.html">Home</a>
        </li>

        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown">
            Documentation
          </a>
          <div class="dropdown-menu">
            <div class="dropdown-header">FAT Forensics</div>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="../getting_started/index.html">Getting Started</a>
            <a class="dropdown-item" href="../tutorials/index.html">Tutorials</a>
            <a class="dropdown-item" href="../sphinx_gallery_auto/index.html">Examples</a>
            <a class="dropdown-item" href="../api.html">API Reference</a>
            <a class="dropdown-item" href="../how_to/index.html">How-To Guides</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="../news.html">News</a>
            <a class="dropdown-item" href="../development.html">Developers Guide</a>
            <a class="dropdown-item" href="../contributors.html">Contributors</a>
            <a class="dropdown-item" href="../changelog.html">Changelog</a>
            <a class="dropdown-item" href="../roadmap.html">Roadmap</a>
          </div>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="../user_guide/index.html">
            FAT User Guide
          </a>
        </li>
      </ul>

      <div class="search_form form-inline">
          <div class="gcse-search" id="cse" style="width: 100%;"></div>
      </div>
    </div>
  </nav>
</div>

<!-- GitHub "fork me" ribbon -->
<!--
<a href="https://github.com/fat-forensics/fat-forensics">
  <img class="fork-me"
       style="position: absolute; top: 0; right: 0; border: 0;"
       src="../_static/img/forkme.png"
       alt="Fork me on GitHub" />
</a>
-->
<span id="forkongithub">
  <a href="https://github.com/fat-forensics/fat-forensics">
    Fork me on GitHub
  </a>
</span>
<div class="container">
  <div class="row">
    <div class="col-sm-2">
      <div class="container sidebar">
        <!--
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/fatf.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">fatf.vis.feature_influence</span></code>.plot_individual_conditional_expectation</a><ul>
<li><a class="reference internal" href="#examples-using-fatf-vis-feature-influence-plot-individual-conditional-expectation">Examples using <code class="docutils literal notranslate"><span class="pre">fatf.vis.feature_influence.plot_individual_conditional_expectation</span></code></a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="fatf.transparency.sklearn.linear_model.linear_classifier_coefficients.html"
                        title="previous chapter"><code class="xref py py-mod docutils literal notranslate"><span class="pre">fatf.transparency.sklearn.linear_model</span></code>.linear_classifier_coefficients</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="fatf.vis.feature_influence.plot_partial_dependence.html"
                        title="next chapter"><code class="xref py py-mod docutils literal notranslate"><span class="pre">fatf.vis.feature_influence</span></code>.plot_partial_dependence</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/generated/fatf.vis.feature_influence.plot_individual_conditional_expectation.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>-->
        <!-- Add a link to the 'up' page -->
        <div class="row rel">
          <div class="col rellink pad-b-1">
            <a class="btn btn-primary btn-sm"
               href="../api.html"
               role="button">
              Up
              <br/>
              <span class="smallrellink">
                API Reference (0.1.2)
              </span>
              <span class="hiddenrellink left-button">
                API Reference (0.1.2)
              </span>
              
            </a>
          </div>
        </div>

        <!-- Add a links to the 'relative' pages -->

        <div class="row rel">
          <div class="col-6 rellink
                      pad-r-1
                      ">
            <a class="btn btn-primary btn-sm"
               href="fatf.transparency.sklearn.linear_model.linear_classifier_coefficients.html"
               accesskey="P"
               role="button">
              Previous
              <br/>
              <span class="smallrellink">
                fatf.transpar...
              </span>
                  <span class="hiddenrellink
                               left-button
                               "
                        data-container="body">
                  fatf.transparency.sklearn.linear_model.linear_classifier_coefficients
                  </span>
            </a>
          </div>
          <div class="col-6 rellink
                      pad-l-1
                      ">
            <a class="btn btn-primary btn-sm"
               href="fatf.vis.feature_influence.plot_partial_dependence.html"
               accesskey="N"
               role="button">
              Next
              <br/>
              <span class="smallrellink">
                fatf.vis.feat...
              </span>
                  <span class="hiddenrellink
                               right-button
                               "
                        data-container="body">
                  fatf.vis.feature_influence.plot_partial_dependence
                  </span>
            </a>
          </div>
        </div>

        

        <!-- Add a citation banner -->
        <div class="alert alert-info" role="alert" style="font-size: 89%; margin-top: 16px;">
          Please <a href="../getting_started/cite.html"><b>cite us</b></a> if you use the software.
        </div>

        <!-- Add a page map -->

        <div class="row toc">
          <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">fatf.vis.feature_influence</span></code>.plot_individual_conditional_expectation</a><ul>
<li><a class="reference internal" href="#examples-using-fatf-vis-feature-influence-plot-individual-conditional-expectation">Examples using <code class="docutils literal notranslate"><span class="pre">fatf.vis.feature_influence.plot_individual_conditional_expectation</span></code></a></li>
</ul>
</li>
</ul>

        </div>

      </div>
    </div>
    

    <div class="col col-sm-10">
      <div class="container">
        <div class="row">
        
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="fatf-vis-feature-influence-plot-individual-conditional-expectation">
<h1><a class="reference internal" href="../api.html#module-fatf.vis.feature_influence" title="fatf.vis.feature_influence"><code class="xref py py-mod docutils literal notranslate"><span class="pre">fatf.vis.feature_influence</span></code></a>.plot_individual_conditional_expectation<a class="headerlink" href="#fatf-vis-feature-influence-plot-individual-conditional-expectation" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="fatf.vis.feature_influence.plot_individual_conditional_expectation">
<code class="descclassname">fatf.vis.feature_influence.</code><code class="descname">plot_individual_conditional_expectation</code><span class="sig-paren">(</span><em>ice_array: numpy.ndarray</em>, <em>feature_linespace: numpy.ndarray</em>, <em>class_index: int</em>, <em>feature_name: Optional[str] = None</em>, <em>class_name: Optional[str] = None</em>, <em>plot_axis: Optional[matplotlib.axes._axes.Axes] = None</em><span class="sig-paren">)</span> &#x2192; Tuple[Optional[matplotlib.figure.Figure], matplotlib.axes._axes.Axes]<a class="reference external" href="https://github.com/fat-forensics/fat-forensics/blob/f6ce085/fatf/vis/feature_influence.py#L267"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fatf.vis.feature_influence.plot_individual_conditional_expectation" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots Individual Conditional Expectation for a selected class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>ice_array</strong><span class="classifier">numpy.ndarray</span></dt><dd><p>An array of (n_samples, n_steps, n_classes) shape with Individual
Conditional Expectation calculation results for every target class for
the desired spectrum of the selected feature. This should be the output
of the <a class="reference internal" href="fatf.transparency.models.feature_influence.individual_conditional_expectation.html#fatf.transparency.models.feature_influence.individual_conditional_expectation" title="fatf.transparency.models.feature_influence.individual_conditional_expectation"><code class="xref py py-func docutils literal notranslate"><span class="pre">fatf.transparency.models.feature_influence.individual_conditional_expectation</span></code></a> function.</p>
</dd>
<dt><strong>feature_linespace</strong><span class="classifier">numpy.ndarray</span></dt><dd><p>A one-dimensional array – (steps_number, ) – with the values for
which the selected feature was sampled when the dataset was evaluated
for a predictive model. This should be the output of the
<a class="reference internal" href="fatf.transparency.models.feature_influence.individual_conditional_expectation.html#fatf.transparency.models.feature_influence.individual_conditional_expectation" title="fatf.transparency.models.feature_influence.individual_conditional_expectation"><code class="xref py py-func docutils literal notranslate"><span class="pre">fatf.transparency.models.feature_influence.individual_conditional_expectation</span></code></a> function.</p>
</dd>
<dt><strong>class_index</strong><span class="classifier">integer</span></dt><dd><p>The index of the class for which ICE will be plotted, taken from the
original dataset.</p>
</dd>
<dt><strong>feature_name</strong><span class="classifier">string, optional (default=None)</span></dt><dd><p>The name of the feature for which ICE was originally calculated.</p>
</dd>
<dt><strong>class_name</strong><span class="classifier">string, optional (default=None)</span></dt><dd><p>The name of the class that <code class="docutils literal notranslate"><span class="pre">class_index</span></code> parameter points to. If
<code class="docutils literal notranslate"><span class="pre">None</span></code>, the class name will be the same as the class index.</p>
</dd>
<dt><strong>plot_axis</strong><span class="classifier">matplotlib.pyplot.Axes, optional (default=None)</span></dt><dd><p>A matplotlib axes on which the ICE will be plotted. This is useful if
one wants to overlay multiple ICE plot on top of each other. If
<code class="docutils literal notranslate"><span class="pre">None</span></code>, a new axes will be created.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>plot_figure</strong><span class="classifier">Union[matplotlib.pyplot.Figure, None]</span></dt><dd><p>A matplotlib figure that holds the <code class="docutils literal notranslate"><span class="pre">plot_axis</span></code> axis. This parameter
is <code class="docutils literal notranslate"><span class="pre">None</span></code> when the user passed in <code class="docutils literal notranslate"><span class="pre">plot_axis</span></code> attribute, otherwise,
when a blank plot is created, this is a figure object holding the plot
axis (<code class="docutils literal notranslate"><span class="pre">plot_axis</span></code>).</p>
</dd>
<dt><strong>plot_axis</strong><span class="classifier">matplotlib.pyplot.Axes</span></dt><dd><p>A matplotlib axes with the ICE plot.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>IncorrectShapeError</strong></dt><dd><p>The ICE or the PD array has a wrong number of dimensions (3 and 2
respectively). The feature linespace array has a wrong number of
dimensions – 1 is expected.</p>
</dd>
<dt><strong>IndexError</strong></dt><dd><p>The class index is invalid for the input array.</p>
</dd>
<dt><strong>TypeError</strong></dt><dd><p>The class index is not an integer; the feature name is not a string or
a <code class="docutils literal notranslate"><span class="pre">None</span></code>; the class name is not a string or a <code class="docutils literal notranslate"><span class="pre">None</span></code>; the plot axis
is not a matplotlib.pyplot.Axes type object or a <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt><strong>ValueError</strong></dt><dd><p>The input array is structured or is not numerical. The linespace array
is structured, not numerical or its length does not agree with the
number of steps in the input array. If the <code class="docutils literal notranslate"><span class="pre">plot_axis</span></code> attribute is
provided, and is not <code class="docutils literal notranslate"><span class="pre">None</span></code> this exception will be raised if the
range of either of the axes does not agree with the range of the axes
of the <code class="docutils literal notranslate"><span class="pre">plot_axis</span></code> plot.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<section id="examples-using-fatf-vis-feature-influence-plot-individual-conditional-expectation">
<h2>Examples using <code class="docutils literal notranslate"><span class="pre">fatf.vis.feature_influence.plot_individual_conditional_expectation</span></code><a class="headerlink" href="#examples-using-fatf-vis-feature-influence-plot-individual-conditional-expectation" title="Permalink to this headline">¶</a></h2>
<div class="sphx-glr-thumbcontainer" tooltip="This example illustrates how to use the Individual Conditional Expectation explainer and its pl..."><figure class="align-center" id="id1">
<img alt="../_images/sphx_glr_xmpl_transparency_ice_thumb.png" src="../_images/sphx_glr_xmpl_transparency_ice_thumb.png" />
<figcaption>
<p><span class="caption-text"><a class="reference internal" href="../sphinx_gallery_auto/transparency/xmpl_transparency_ice.html#sphx-glr-sphinx-gallery-auto-transparency-xmpl-transparency-ice-py"><span class="std std-ref">Using Individual Conditional Expectation Explainer</span></a></span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
</div><div class="clear:both"></div></section>
</section>


          </div>
        </div>
      </div>
        </div>
      </div>
    </div>
  </div>
</div>

  <div class="container cusotm-footer">
    <div class="row">
      <div class="col-3">
        &copy; 2018--2023, Kacper Sokol et al.
      </div>
      <div class="col-6">
        <a class="footer-img-link" href="contributors.html#funding">
          <img src="../_static/img/bristol.svg" title="Univeristy of Bristol" style="max-height: 30px">
          &nbsp;
          <img src="../_static/img/thales.svg" title="Thales" style="max-height: 20px">
        </a>
        <br>
        <a href="contributors.html#funding" style="top: 4px; position: relative;">
          More information on our contributors
        </a>
      </div>
      <div class="col-3">
        <a href="../_sources/generated/fatf.vis.feature_influence.plot_individual_conditional_expectation.rst.txt" rel="nofollow">
          Show this page source
        </a>
      </div>
    </div>
  </div>

  
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-FHEM8Y8CHX"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-FHEM8Y8CHX');
  </script>
  

  
  <script>
    (function() {
      var cx = '014039732624725851926:mpducezglrq';
      var gcse = document.createElement('script');
      gcse.type = 'text/javascript';
      gcse.async = true;
      gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(gcse, s);
    })();
  </script>
  
  </body>
</html>